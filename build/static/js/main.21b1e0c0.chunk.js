(this["webpackJsonptask-app-web"]=this["webpackJsonptask-app-web"]||[]).push([[0],{109:function(e,a,t){},110:function(e,a,t){},113:function(e,a,t){},115:function(e,a,t){},116:function(e,a,t){},121:function(e,a,t){},122:function(e,a,t){},124:function(e,a,t){},125:function(e,a,t){},126:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},129:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),l=t.n(c),s=t(12),o=t.n(s),i=t(4),u=t(16),m=t(27),p=(t(109),t(110),Object(i.b)((function(e){return{alerts:e.alert}}))((function(e){var a=e.alerts;return null!==a&&a.length>0&&a.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)}))}))),d=t(78),f=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var a=e.component,t=e.auth,n=t.isAuthenticated,c=t.loading,l=Object(d.a)(e,["component","auth"]);return r.a.createElement(m.b,Object.assign({},l,{render:function(e){return n||c?r.a.createElement(a,e):r.a.createElement(m.a,{to:"/login"})}}))})),E=t(63),g=t.n(E),h=t(49),v=t.n(h),b=t(65),k=t.n(b),N=t(64),w=t.n(N),y=t(67),O=t.n(y),S=t(66),T=t.n(S),A=t(154),j=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;return function(n){var r=Object(A.a)();n({type:"SET_ALERT",payload:{msg:e,alertType:a,id:r}}),setTimeout((function(){n({type:"REMOVE_ALERT",payload:r})}),t)}},C=t(8),x=t.n(C),D=t(24),R=function(){return function(){var e=Object(D.a)(x.a.mark((function e(a){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/api/auth");case 3:t=e.sent,a({type:"USER_LOADED",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({type:"AUTH_ERROR"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},_=(t(113),Object(m.g)(Object(i.b)((function(e){return{auth:e.auth}}),{logoutUser:function(){return function(e){e({type:"LOGOUT"})}},setAlert:j})((function(e){var a=e.auth,t=a.isAuthenticated,n=a.loading,c=e.logoutUser,l=e.setAlert,s=e.history;return r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"logo "},r.a.createElement("span",{className:"nav-link "},r.a.createElement("span",{className:"link-text logo-text"},"TaskApp"),r.a.createElement(g.a,{className:"nav-toggler"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.c,{exact:!0,to:"/",className:"nav-link"},r.a.createElement(w.a,{className:"nav-icon"}),r.a.createElement("span",{className:"link-text"},"Home"))),t&&!n?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.c,{to:"/tasks",className:"nav-link"},r.a.createElement(k.a,{className:"nav-icon"}),r.a.createElement("span",{className:"link-text"},"Aufgaben"))),r.a.createElement("li",{className:"nav-item "},r.a.createElement(u.c,{to:"/settings",className:"nav-link "},r.a.createElement(T.a,{className:"nav-icon"}),r.a.createElement("span",{className:"link-text"},"Einstellungen"))),r.a.createElement("li",{className:"nav-item logout"},r.a.createElement("span",{className:"nav-link ",onClick:function(){c(),l("Du wurdest ausgeloggt","success"),s.push("/")}},r.a.createElement(v.a,{className:"nav-icon"}),r.a.createElement("span",{className:"link-text"},"Ausloggen")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.c,{to:"/login",className:"nav-link"},r.a.createElement(v.a,{className:"nav-icon"}),r.a.createElement("span",{className:"link-text"},"Einloggen"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.c,{to:"/register",className:"nav-link"},r.a.createElement(O.a,{className:"nav-icon"}),r.a.createElement("span",{className:"link-text"},"Registrieren"))))))})))),L=t(22),I=t(7),U=(t(115),function(e){var a=e.style,t=e.onClick,n=e.children,c=e.type;return r.a.createElement("button",{className:"button",style:Object(I.a)({},a),onClick:t,type:c},n)}),F=(t(116),Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var a=e.history,t=e.auth,n=t.isAuthenticated,c=t.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Home | TaskApp ")),r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"landing-logo"},r.a.createElement("img",{src:"logo.png",alt:"Logo"}),r.a.createElement("span",{className:"landing-logo-text"},"TaskApp")),n?r.a.createElement("div",{className:"landing-info"},r.a.createElement("h4",{style:{fontWeight:"350"}},c&&"Willkommen zur\xfcck, ".concat(c.name,"!")),r.a.createElement("br",null),r.a.createElement("p",{style:{fontSize:"1.1rem",fontWeight:"350"}},"Sieh nach was noch zu erledigen ist und erstelle neue Aufgaben."),r.a.createElement(U,{type:"button",onClick:function(){return a.push("/tasks")},style:{marginTop:"2rem",backgroundColor:"#0bbbda"}},"Meine Aufgaben")):r.a.createElement("div",{className:"landing-info"},"Dies ist ein Aufgaben-Manager, welcher lediglich als Portfolioprojekt dient. ",r.a.createElement("br",null)," Es kann keine Datensicherheit garantiert werden. ",r.a.createElement("br",null),r.a.createElement(U,{type:"button",onClick:function(){return a.push("/login")},style:{marginTop:"2rem",backgroundColor:"#0bbbda"}},"Zum Login"))))}))),K=t(6),W=t(31),M=t.n(W),P=(t(60),t(30)),G=function(e,a,t){var r=Object(n.useState)({name:"",email:"",password:"",password2:""}),c=Object(K.a)(r,2),l=c[0],s=c[1],o=Object(n.useState)({}),i=Object(K.a)(o,2),u=i[0],m=i[1],p=Object(n.useState)(!1),d=Object(K.a)(p,2),f=d[0],E=d[1];return Object(n.useEffect)((function(){"register"===t&&(u.email||u.password||u.name||u.password2||!f||e())}),[u]),Object(n.useEffect)((function(){"login"===t&&(u.email||u.password||!f||e())}),[u]),{handleChange:function(e){s(Object(I.a)({},l,Object(P.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){e.preventDefault(),m(a(l)),E(!0)},formData:l,errors:u,submitted:f}},z=function(e){var a={};return e.name?e.name.length<2&&(a.name="Der Benutzername muss mindestens zwei Zeichen enthalten"):a.name="Ein Benutzername ist erforderlich",e.email?/\S+@\S+\.\S+/.test(e.email)||(a.email="Die Email Adresse muss g\xfcltig sein"):a.email="Eine Email Adresse ist erforderlich",e.password?e.password.length<6&&(a.password="Das Passwort muss min. sechs Zeichen enthalten"):a.password="Ein Passwort  ist erforderlich",e.password!==e.password2&&(a.password2="Die Passw\xf6rter stimmen nicht \xfcberein"),e.taskName||(a.taskName="Ein Aufgabentitel ist erforderlich"),e.dueDate?/^\s*(3[01]|[12][0-9]|0?[1-9])\.(1[012]|0?[1-9])\.((?:19|20)\d{2})\s*$/g.test(e.dueDate)||(a.dueDate="Sie m\xfcssen ein g\xfcltiges F\xe4lligkeitsdatum angeben"):a.dueDate="Sie m\xfcssen ein F\xe4lligkeitsdatum angeben",a},J=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{loginUser:function(e,a){return function(){var t=Object(D.a)(x.a.mark((function t(n){var r,c,l,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:a}),t.prev=2,t.next=5,o.a.post("/api/auth",c,r);case 5:l=t.sent,n({type:"LOGIN_SUCCESS",payload:l.data}),n(R()),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),(s=t.t0.response.data.errors)&&s.forEach((function(e){return n(j(e.msg,"danger"))})),n({type:"LOGIN_FAIL"});case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var a=e.loginUser,t=e.isAuthenticated,c=Object(n.useState)(!1),l=Object(K.a)(c,2),s=l[0],o=l[1],i=G((function(){a(g,h),o(!0),setTimeout((function(){o(!1)}),5e3)}),z,"login"),p=i.handleChange,d=i.handleSubmit,f=i.formData,E=i.errors,g=f.email,h=f.password;return t?r.a.createElement(m.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Einloggen | TaskApp ")),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"auth-form pt-5"},r.a.createElement("h3",{className:"mb-3"},"Einloggen"),r.a.createElement("p",{className:"pb-2"},"Hier kannst du dich Anmelden"),r.a.createElement("form",{noValidate:!0,className:"form",onSubmit:function(e){return d(e)}},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"email",placeholder:"Email Adresse",name:"email",onChange:function(e){return p(e)},value:g}),r.a.createElement("span",{className:"error-text"},null===E||void 0===E?void 0:E.email)),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"password",placeholder:"Passwort",name:"password",minLength:6,onChange:function(e){return p(e)},value:h}),r.a.createElement("span",{className:"error-text"},E.password&&"Ihr Passwort ist min. sechs Zeichen lang")),r.a.createElement(U,{type:"submit",style:{marginTop:"2rem",backgroundColor:"#0bbbda"}},s?r.a.createElement(M.a,{size:20,loading:s}):"Einloggen")),r.a.createElement("p",{className:"my-3 form-redirect"},"Du hast noch keinen Account?"," ",r.a.createElement(u.b,{to:"/register"},"Registrieren")))))})),H=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{registerUser:function(e){var a=e.name,t=e.email,n=e.password;return function(){var e=Object(D.a)(x.a.mark((function e(r){var c,l,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},l=JSON.stringify({name:a,email:t,password:n}),e.prev=2,e.next=5,o.a.post("/api/user",l,c);case 5:s=e.sent,r({type:"REGISTER_SUCCESS",payload:s.data}),r(R()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(i=e.t0.response.data.errors)&&i.forEach((function(e){return r(j(e.msg,"danger"))})),r({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}()}})((function(e){var a=e.registerUser,t=e.isAuthenticated,c=Object(n.useState)(!1),l=Object(K.a)(c,2),s=l[0],o=l[1],i=G((function(){a({name:g,email:h,password:v}),o(!0),setTimeout((function(){o(!1)}),5e3)}),z,"register"),p=i.handleChange,d=i.handleSubmit,f=i.formData,E=i.errors,g=f.name,h=f.email,v=f.password,b=f.password2;return t?r.a.createElement(m.a,{to:"/tasks"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Registrieren | TaskApp ")),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"auth-form pt-5"},r.a.createElement("h3",{className:"mb-3"},"Registrieren"),r.a.createElement("p",{className:"pb-2"},"Hier kannst du deinen Account erstellen"),r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"form",onSubmit:function(e){return d(e)}},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Name",name:"name",required:!0,minLength:3,onChange:function(e){return p(e)},value:g,autoComplete:"off"}),r.a.createElement("span",{className:"error-text"},E.name)),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"email",placeholder:"Email Adresse",name:"email",onChange:function(e){return p(e)},value:h,autoComplete:"off"}),r.a.createElement("span",{className:"error-text"},E.email)),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"password",placeholder:"Passwort",name:"password",minLength:6,onChange:function(e){return p(e)},value:v}),r.a.createElement("span",{className:"error-text"},E.password)),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"password",placeholder:"Passwort best\xe4tigen",name:"password2",minLength:6,onChange:function(e){return p(e)},value:b}),r.a.createElement("span",{className:"error-text"},E.password2)),r.a.createElement(U,{type:"submit",style:{marginTop:"2rem",backgroundColor:"#0bbbda"}},s?r.a.createElement(M.a,{size:20,loading:s}):"Registrieren")),r.a.createElement("p",{className:"my-3 form-redirect"},"Du hast bereits einen Account? ",r.a.createElement(u.b,{to:"/login"},"Einloggen")))))})),Y=(t(121),Object(i.b)((function(e){return{user:e.auth.user}}))((function(e){var a=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Einstellungen | TaskApp ")),r.a.createElement("div",{className:"settings-wrapper"},r.a.createElement("div",{className:"settings"},r.a.createElement("h2",null,"Einstellungen"),r.a.createElement("hr",{className:"line"}),r.a.createElement("div",{className:"settings-content"},r.a.createElement("div",{className:"settings-categories"},r.a.createElement("span",null,"Name"),r.a.createElement("span",null,"Email"),r.a.createElement("span",null,"Passwort")),r.a.createElement("div",{className:"settings-values"},r.a.createElement("span",{className:"name"},null===a||void 0===a?void 0:a.name),r.a.createElement("span",{className:"email"},null===a||void 0===a?void 0:a.email),r.a.createElement("span",{className:"password"},"********"))))))}))),B=(t(122),t(35)),V=t.n(B),Z=t(74),X=t.n(Z),$=(t(124),t(153)),q=t(151),Q=t(152),ee=t(71),ae=t.n(ee),te=t(72),ne=t.n(te),re=(t(125),{taskName:"",notes:"",dueDate:""}),ce=t(70),le=t.n(ce),se=function(e){var a=e.split(".");return new Date(+a[2],a[1]-1,+a[0])},oe=function(e){return function(){var a=Object(D.a)(x.a.mark((function a(t){var n;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.get("/api/tasks/".concat(e));case 3:n=a.sent,t({type:"GET_TASKS",payload:n.data.tasks}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:"TASK_ERROR"}),t(j("Etwas ist schief gelaufen","danger"));case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},ie=Object(i.b)((function(e){return{tasks:e.tasks.allTasks}}),{createTask:function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(){var r=Object(D.a)(x.a.mark((function r(c){var l,s,i,u;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l={headers:{"Content-Type":"application/json"}},s=se(a),console.log(s),i=JSON.stringify({taskName:e,dueDate:s,importance:t,notes:n}),r.prev=4,r.next=7,o.a.post("/api/tasks",i,l);case 7:u=r.sent,c({type:"CREATE_TASK",payload:u.data}),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(4),c({type:"TASK_ERROR"}),c(j("Etwas ist schief gelaufen","danger"));case 15:case"end":return r.stop()}}),r,null,[[4,11]])})));return function(e){return r.apply(this,arguments)}}()},updateTask:function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(){var r=Object(D.a)(x.a.mark((function r(c){var l,s,i,u;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l={headers:{"Content-Type":"application/json"}},s=se(a),i=JSON.stringify({dueDate:s,importance:t,notes:n}),r.prev=3,r.next=6,o.a.put("/api/tasks/".concat(e),i,l);case 6:u=r.sent,c({type:"UPDATE_TASK",payload:u.data}),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(3),c({type:"TASK_ERROR"}),c(j("Etwas ist schief gelaufen","danger"));case 14:case"end":return r.stop()}}),r,null,[[3,10]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var a=e.closeDialog,t=e.type,c=e.createTask,l=e.updateTask,s=e.tasks,o=e.id,i=s.filter((function(e){return e._id===o}))[0],u=[{option:"Niedrig",color:"lightgrey"},{option:"Mittel",color:"orange"},{option:"Hoch",color:"red"}],m=i?u.find((function(e){return e.option===i.importance})):u[1],p=Object(n.useState)(m),d=Object(K.a)(p,2),f=d[0],E=d[1],g=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re,r=Object(n.useState)(Object(I.a)({},t,{dueDate:t.dueDate?V()(t.dueDate).format("DD.MM.YYYY"):""})),c=Object(K.a)(r,2),l=c[0],s=c[1],o=Object(n.useState)({}),i=Object(K.a)(o,2),u=i[0],m=i[1],p=Object(n.useState)(!1),d=Object(K.a)(p,2),f=d[0],E=d[1],g=function(e){s(Object(I.a)({},l,Object(P.a)({},e.target.name,e.target.value)))},h=function(e){e.preventDefault(),m(a(l)),E(!0)};return Object(n.useEffect)((function(){u.taskName||u.notes||u.dueDate||!f||e()}),[u]),{handleChange:g,handleSubmit:h,formData:l,errors:u}}((function(){"create"===t?c(N,y,f.option,w):l(o,y,f.option,w),a()}),z,i),h=g.handleChange,v=g.handleSubmit,b=g.formData,k=g.errors,N=b.taskName,w=b.notes,y=b.dueDate;return r.a.createElement("div",{className:"task-form"},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"form",onSubmit:function(e){return v(e)}},"create"===t&&r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Aufgabentitel",name:"taskName",onChange:function(e){return h(e)},value:N}),r.a.createElement("span",{className:"error-text"},k.taskName?k.taskName:"")),r.a.createElement("div",{className:"text-area-wrapper"},r.a.createElement("textarea",{onChange:function(e){return h(e)},value:w,name:"notes",placeholder:" Notizen (optional)"}),r.a.createElement("span",{className:"error-text"},k.notes?k.notes:"")),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("p",null,"Wichtigkeit:\xa0",r.a.createElement("span",{style:{color:"".concat(f.color)}},f.option),r.a.createElement(le.a,{onClick:function(){f.option===u[0].option?E(u[1]):f.option===u[1].option?E(u[2]):E(u[0])},style:{cursor:"pointer"}}))),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("input",{value:y,onChange:function(e){return h(e)},name:"dueDate",className:"input",type:"text",placeholder:"Zu erledigen bis: (TT.MM.JJJJ)"}),r.a.createElement("span",{className:"error-text"},k.dueDate?k.dueDate:"")),r.a.createElement(U,{type:"submit",style:{backgroundColor:"#0bbbda",margin:"2rem auto"}},"create"===t?"Erstellen":"Best\xe4tigen")))})),ue=function(e){var a=e.type,t=e.taskName,c=e.id,l=Object(n.useState)(!1),s=Object(K.a)(l,2),o=s[0],i=s[1];return"newTask"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){return i(!0)}},"Neu\xa0 ",r.a.createElement(ae.a,null)),r.a.createElement($.a,{className:"task-dialog",open:o,onClose:function(){return i(!1)},"aria-labelledby":"task-dialog-title"},r.a.createElement(q.a,null,r.a.createElement("span",{className:"task-dialog-close",onClick:function(){return i(!1)}},"X")),r.a.createElement(Q.a,null,r.a.createElement("h4",{className:"task-dialog-header"},"Neue Aufgabe erstellen"),r.a.createElement(ie,{closeDialog:function(){return i(!1)},type:"create"})))):"editTask"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){return i(!0)}},r.a.createElement(ne.a,null)),r.a.createElement($.a,{className:"task-dialog",open:o,onClose:function(){return i(!1)},"aria-labelledby":"task-dialog-title"},r.a.createElement(q.a,null,r.a.createElement("span",{className:"task-dialog-close",onClick:function(){return i(!1)}},"X")),r.a.createElement(Q.a,null,r.a.createElement("h4",{className:"task-dialog-header"},'"',t,'" bearbeiten'),r.a.createElement(ie,{closeDialog:function(){return i(!1)},type:"edit",taskName:t,id:c})))):null},me=(t(126),t(73)),pe=t.n(me),de=t(50),fe=t.n(de),Ee=function(e){var a=e.taskName,t=e.confirmedAction,c=Object(n.useState)(!1),l=Object(K.a)(c,2),s=l[0],o=l[1],i=function(){o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){o(!0)}},r.a.createElement(fe.a,null)),r.a.createElement($.a,{className:"confirm-action-dialog",open:s,onClose:i,"aria-labelledby":"confirm-action-dialog"},r.a.createElement(Q.a,null,r.a.createElement("h4",{className:"confirm-action-dialog-heading"},'"',a,'" als erledigt markieren?'),r.a.createElement("div",{className:"confirm-action-dialog-icons"},r.a.createElement(fe.a,{onClick:function(){return t()},className:"confirm-action-dialog-icon-done"}),r.a.createElement(pe.a,{onClick:i,className:"confirm-action-dialog-icon-cancel"})))))},ge=Object(i.b)(null,{deleteTask:function(e){return function(){var a=Object(D.a)(x.a.mark((function a(t){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.delete("/api/tasks/".concat(e));case 3:t({type:"DELETE_TASK",payload:e}),a.next=10;break;case 6:a.prev=6,a.t0=a.catch(0),t({type:"TASK_ERROR"}),t(j("Etwas ist schief gelaufen","danger"));case 10:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var a=e.taskName,t=e.importance,n=e.notes,c=e.dueDate,l=e.id,s=e.deleteTask,o="";return"Hoch"===t&&(o="red"),"Mittel"===t&&(o="orange"),r.a.createElement("div",{className:"task-item"},r.a.createElement("div",{className:"task-header"},r.a.createElement("h4",{className:"task-heading"},a),o&&r.a.createElement(X.a,{style:{color:"".concat(o)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"task-body"},r.a.createElement("p",{className:"importance"},n)),r.a.createElement("div",{className:"task-footer"},r.a.createElement("span",{className:"due-date"},"bis zum ",V()(c).format("DD.MM.YYYY")),r.a.createElement("div",{className:"task-controls"},r.a.createElement("span",{className:"task-edit"},r.a.createElement(ue,{type:"editTask",taskName:a,id:l})),r.a.createElement("span",{className:"task-done"},r.a.createElement(Ee,{confirmedAction:function(){return s(l)},taskName:a}))))))})),he=t(75),ve=t.n(he),be=(t(127),Object(i.b)((function(e){return{allTasks:e.tasks.allTasks,auth:e.auth}}),{fetchTasks:oe})((function(e){var a=e.fetchTasks,t=e.auth,c=["createdAt","dueDate"],l=Object(n.useState)(parseInt(localStorage.getItem("selectedSortIndex"))||0),s=Object(K.a)(l,2),o=s[0],i=s[1];Object(n.useEffect)((function(){localStorage.setItem("selectedSortIndex",o.toString())}),[o]),Object(n.useEffect)((function(){t.loading||a(c[o])}),[o,t.loading]);var u="";return"createdAt"===c[o]?u="Erstellungsdatum":"dueDate"===c[o]&&(u="F\xe4lligkeitsdatum"),"importance"===c[o]&&(u="Wichtigkeit"),r.a.createElement("div",{className:"task-list-menu"},r.a.createElement("div",{className:"new-task"},r.a.createElement(ue,{type:"newTask"})),r.a.createElement("div",{className:"sort",onClick:function(){var e;i(1===(e=o)?0:e+1)}},u+" ",r.a.createElement(ve.a,null)))}))),ke=(t(128),Object(i.b)((function(e){var a=e.tasks;return{tasks:a.allTasks,loadingTasks:a.loading}}),{fetchTasks:oe})((function(e){var a=e.tasks,t=e.loadingTasks;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Aufgaben | TaskApp")),r.a.createElement("div",{className:"task-list"},r.a.createElement("h3",{className:"task-list-header"},"Offene Aufgaben"),r.a.createElement(be,null),r.a.createElement("div",{className:"task-wrapper"},a.length?a.map((function(e){var a=e.taskName,t=e.notes,n=e.dueDate,c=e.importance,l=e._id;return r.a.createElement(ge,{key:l,id:l,taskName:a,notes:t,dueDate:n,importance:c})})):t?r.a.createElement(M.a,{size:80,color:"#fff",loading:t}):r.a.createElement("h4",{className:"no-pending-tasks"},"Du hast keine ausstehenden Aufgaben"))))}))),Ne=t(25),we=t(76),ye=function(e){e?(o.a.defaults.headers.common["x-auth-token"]=e,localStorage.setItem("token",e)):(delete o.a.defaults.headers.common["x-auth-token"],localStorage.removeItem("token"))},Oe=t(77),Se=t(45),Te={allTasks:[],loading:!0},Ae={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},je=[],Ce=Object(Ne.combineReducers)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"GET_TASKS":case"SORT_TASKS":return Object(I.a)({},e,{allTasks:n,loading:!1});case"CREATE_TASK":return Object(I.a)({},e,{allTasks:[n].concat(Object(Se.a)(e.allTasks)),loading:!1});case"UPDATE_TASK":return Object(I.a)({},e,{allTasks:e.allTasks.map((function(e){return e._id===n._id?Object(I.a)({},n):e})),loading:!1});case"DELETE_TASK":return Object(I.a)({},e,{allTasks:e.allTasks.filter((function(e){return e._id!==n})),loading:!1});case"TASK_ERROR":return Object(I.a)({},e,{loading:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,a=arguments.length>1?arguments[1]:void 0,t=a.payload,n=a.type;switch(n){case"USER_LOADED":return Object(I.a)({},e,{isAuthenticated:!0,loading:!1,user:t});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",t),Object(I.a)({},e,{},t,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(I.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_ALERT":return[].concat(Object(Se.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}}}),xe=[Oe.a],De=Object(Ne.createStore)(Ce,Object(we.composeWithDevTools)(Ne.applyMiddleware.apply(void 0,xe))),Re={auth:{token:null,isAuthenticated:null,loading:!0,user:null}};De.subscribe((function(){var e=Re;if(Re=De.getState(),e.auth.token!==Re.auth.token){var a=Re.auth.token;ye(a)}}));var _e=De;o.a.defaults.baseURL="https://semoto-api.herokuapp.com/";var Le=function(){return Object(n.useEffect)((function(){ye(localStorage.token),_e.dispatch(R())}),[]),r.a.createElement(i.a,{store:_e},r.a.createElement(u.a,null,r.a.createElement(_,null),r.a.createElement(p,null),r.a.createElement("div",{className:"App"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:F}),r.a.createElement(m.b,{exact:!0,path:"/login",component:J}),r.a.createElement(m.b,{exact:!0,path:"/register",component:H}),r.a.createElement(f,{exact:!0,path:"/settings",component:Y}),r.a.createElement(f,{exact:!0,path:"/tasks",component:ke})))))},Ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ue(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(Le,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");Ie?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ue(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ue(a,e)}))}}()},60:function(e,a,t){},83:function(e,a,t){e.exports=t(129)}},[[83,1,2]]]);
//# sourceMappingURL=main.21b1e0c0.chunk.js.map